@page "/company/new"
@page "/company/{Id}"
@page "/company/{Id}/edit"
@inherits CreationComponent

<CardHeader>
    <CruderSimple.Blazor.Components.PageTitle Title="@PageName("Empresa")"
                                              BreadcrumbItems="@(new Breadcrum[] {
                                            new Breadcrum("/", "{{solution_name}}"),
                                            new Breadcrum("/company", "Empresas") })" />
</CardHeader>

<CreateEditPage @ref="CreateEditPage" TEntity="{{solution_name}}.Domain.Models.Company" TDto="CompanyDto" Model="@Model" Id="@Id" >
    <Validation Validator="ValidationRule.IsNotEmpty">
        <Field Margin="Margin.Is3.FromBottom">
            <FieldLabel>Nome</FieldLabel>
            <FieldBody>
                <TextEdit Company="TextCompany.Text" Placeholder="Nome" @bind-Text="@Model.Name" Disabled="@CreateEditPage.DisabledToEdit">
                    <Feedback>
                        <ValidationError>Invalid name</ValidationError>
                    </Feedback>
                </TextEdit>
            </FieldBody>
        </Field>
    </Validation>
</CreateEditPage>

@code {
    public CompanyDto Model { get; set; }
    public CreateEditPage<{{solution_name}}.Domain.Models.Company, CompanyDto> CreateEditPage { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Model = new CompanyDto();
    }
}   